updateSwitcherAtts=function(t){for(var e=document.querySelectorAll(".ast-mode-switcher-trigger"),a=0;a<e.length;a++)"dark"===t?e[a].setAttribute("aria-label",astraModeSwitcher.switchToLightMode):e[a].setAttribute("aria-label",astraModeSwitcher.switchToDarkMode)},updateSwitcherFlashMessages=function(e){var t=document.querySelectorAll(".ast-mode-flash-message");t.forEach(function(t){t.textContent="dark"===e?astraModeSwitcher.darkModeFlashMessage:astraModeSwitcher.lightModeFlashMessage,t.classList.remove("hide")}),setTimeout(function(){t.forEach(function(t){t.classList.add("hide")})},1e3)},darkModeSwitcher=function(){var t=document.querySelectorAll(".ast-mode-switcher-trigger");if(0<t.length){var e=localStorage.getItem("astra-prefers-color");e&&""!==e?"dark"!==e||document.documentElement.classList.contains("ast-dark-site")?"light"===e&&document.documentElement.classList.contains("ast-dark-site")&&(updateSwitcherAtts("light"),document.documentElement.classList.remove("ast-dark-site")):(updateSwitcherAtts("dark"),document.documentElement.classList.add("ast-dark-site")):"1"===astraModeSwitcher.carryOsPalette&&((e=window.matchMedia("(prefers-color-scheme: dark)")).matches&&!document.documentElement.classList.contains("ast-dark-site")?(updateSwitcherAtts("dark"),document.documentElement.classList.add("ast-dark-site")):!e.matches&&document.documentElement.classList.contains("ast-dark-site")&&(updateSwitcherAtts("light"),document.documentElement.classList.remove("ast-dark-site")));for(var a=0;a<t.length;a++)t[a].onclick=function(t){t.preventDefault(),t.stopPropagation(),document.documentElement.classList.contains("ast-dark-site")?(updateSwitcherAtts("light"),document.documentElement.classList.remove("ast-dark-site"),localStorage.setItem("astra-prefers-color","light"),"1"===astraModeSwitcher.isDarkModeProActive&&updateSwitcherFlashMessages("light")):(updateSwitcherAtts("dark"),document.documentElement.classList.add("ast-dark-site"),localStorage.setItem("astra-prefers-color","dark"),"1"===astraModeSwitcher.isDarkModeProActive&&updateSwitcherFlashMessages("dark"))}}},window.addEventListener("load",function(){darkModeSwitcher()});